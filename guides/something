### if you faced problem when pushed into github/gitlab RPC failed; result=22, HTTP code = 413

you need to add "client_max_body_size 30g" in nginx.conf:

server {
        server_name  someserver;

        location / {
          client_max_body_size 30g;
        }

### if you've gitlab and behind nginx for proxy, and your images not displayed, then you need add proxy_set_header
    server {
        server_name  someserver;

        location / {

          proxy_set_header Host $http_host;
          proxy_pass http://somserver/;
        }

###
for ((i=1;i<=1000;i++)); do time curl 1.2.3.4 -I; done
for ((i=82;i<127;i++)); do echo -n "1.2.3.${i}, " >> ipList; done

# if you'd like rotate /var/log/messages logs
# delete /var/log/messages from /etc/logrotate.d/syslog
sed -i 's/\/var\/log\/messages//g;/^$/d' /etc/logrotate.d/syslog

# create rotate configuration in /etc/logrotate.d/
cat <<EOF > /etc/logrotate.d/messages
/var/log/messages {
       rotate 3
       compress
       delaycompress
       weekly
       missingok
       postrotate
         /bin/kill -HUP `cat /var/run/syslogd.pid 2> /dev/null` 2> /dev/null || true
       endscript
}
EOF



    server {
        listen       80;
        server_name  example.com;

        location / {
          proxy_pass http://test.example.com/;
        }

        location /db {
          rewrite ^/db/(.*)$ /$1 break;
          proxy_pass http://db.test.example.com;
        }
    }

du -d1 -h /var/log | sort -h
